/* ============================================
   CSS PARA IMPRESSÃO DE ORDEM DE SERVIÇO
   Arquivo: assets/css/imprimir.css
   ============================================ */

/* ============================================
   CONFIGURAÇÕES GERAIS DO DOCUMENTO
   ============================================ */
body {
    width: 230mm;                      /* Largura total da área de impressão (inclui margens) */
    height: 100%;                      /* Altura total da viewport */
    margin: 0 auto;                     /* Remove margens superior/inferior, centraliza horizontalmente */
    padding: 0;                         /* Remove padding padrão */
    font-size: 12px;                    /* Tamanho da fonte base */
    background: rgb(204,204,204);       /* Fundo cinza claro (área ao redor da página) */
    font-family: "Roboto", sans-serif;  /* Fonte Roboto (fallback para sans-serif) */
    -webkit-print-color-adjust: exact !important;  /* Força impressão de cores no Chrome/Safari */
    print-color-adjust: exact !important;           /* Força impressão de cores (padrão) */
}

/* ============================================
   CONTAINER PRINCIPAL DA PÁGINA
   ============================================ */
.main-page {
    width: 210mm;                      /* Largura padrão A4 (210mm) */
    min-height: 297mm;                  /* Altura mínima A4 (297mm) */
    margin: 1mm auto;                   /* Margem de 1mm em cima/baixo, centraliza horizontalmente */
    padding: 7mm;                       /* Padding interno de 7mm */
    background: white;                  /* Fundo branco da página */
    border-radius: 5px;                 /* Bordas arredondadas (visualização na tela) */
    box-shadow: 0 0 0.5cm rgba(0,0,0,0.5); /* Sombra ao redor da página (visualização na tela) */
}

/* ============================================
   CONTAINER DA SUB-PÁGINA (2ª VIA)
   ============================================ */
.sub-page {
    position: relative;                 /* Permite posicionamento absoluto de elementos filhos */
    display: flex;                      /* Layout flexbox */
    flex-direction: column;            /* Direção vertical (elementos empilhados) */
    justify-content: flex-start;        /* Alinha conteúdo ao topo */
    /* height: 257mm; */                /* Altura fixa (comentado - não usado) */
    z-index: 1;                         /* Camada de empilhamento */
}

/* ============================================
   NOVA PÁGINA (2ª VIA - VIA EMPRESA)
   ============================================ */
.novaPagina {
    display: none;                      /* Esconde por padrão (só aparece na impressão) */
    page-break-before: always;         /* Força quebra de página antes deste elemento */
}

/* ============================================
   CABEÇALHO (HEADER) - LOGO, EMITENTE E CONTATO
   ============================================ */
header {
    position: relative;                  /* Permite posicionamento absoluto de elementos filhos */
    display: flex;                      /* Layout flexbox */
    flex-wrap: wrap;                    /* Permite quebra de linha se necessário */
    justify-content: space-between;     /* Distribui espaço entre elementos (logo, emitente, contato) */
    width: 100%;                       /* Ocupa toda a largura disponível */
    padding: 10px;                      /* Espaçamento interno de 10px */
    border: 1px solid #cdcdcd;          /* Borda cinza clara */
}

/* Mensagem de alerta quando emitente não está configurado */
header .alert {
    width: 100%;                       /* Ocupa toda a largura do header */
}

/* ============================================
   LOGO DO EMITENTE
   ============================================ */
#imgLogo {
    display: flex;                      /* Layout flexbox */
    align-items: center;                /* Alinha verticalmente ao centro */
}

/* ============================================
   DADOS DO EMITENTE (CENTRO)
   ============================================ */
header .emitente {
    padding-left: 10px;                 /* Espaçamento interno à esquerda */
    padding-right: 10px;                /* Espaçamento interno à direita */
    margin-top: 3px;                    /* Margem superior pequena */
}

/* ============================================
   CONTATO DO EMITENTE (DIREITA)
   ============================================ */
header .contatoEmitente {
    text-align: right;                  /* Alinha texto à direita */
    max-width: 230px;                   /* Largura máxima de 230px */
    margin-top: 10px;                   /* Margem superior */
}

/* Ícones no header */
header .icon {
    width: 20px;                        /* Largura dos ícones */
}

/* ============================================
   SEÇÕES DO DOCUMENTO
   ============================================ */
section {
    width: 100%;                       /* Ocupa toda a largura disponível */
    padding: 10px 0;                    /* Padding vertical de 10px (topo e fundo) */
    /* border-bottom: 1px solid #ddd; */ /* Borda inferior (comentado - não usado) */
}

/* ============================================
   TÍTULO DA ORDEM DE SERVIÇO
   ============================================ */
section .title {
    width: 100%;                       /* Ocupa toda a largura */
    border: 1px solid #cdcdcd;          /* Borda cinza clara */
    padding: 3px;                       /* Espaçamento interno */
    font-weight: bold;                  /* Texto em negrito */
    font-size: 1.25em;                  /* Tamanho 1.25x maior que o padrão */
    text-align: center;                 /* Texto centralizado */
    background-color: #e8e8e8;          /* Fundo cinza claro */
    display: flex;                      /* Layout flexbox */
    justify-content: center;            /* Centraliza conteúdo horizontalmente */
    align-items: center;                /* Centraliza conteúdo verticalmente */
    position: relative;                 /* Permite posicionamento absoluto de elementos filhos */
}

/* Texto "Via cliente" ou "Via empresa" (canto esquerdo) */
section .title .via {
    font-size: 13px;                    /* Tamanho da fonte */
    position: absolute;                  /* Posicionamento absoluto */
    left: 5px;                          /* 5px da borda esquerda */
}

/* Esconde "via" por padrão (só aparece na impressão) */
.via{
    display: none;
}

/* Data de emissão (canto direito) */
section .title .emissao {
    font-size: 13px;                    /* Tamanho da fonte */
    position: absolute;                 /* Posicionamento absoluto */
    right: 5px;                         /* 5px da borda direita */
}

/* ============================================
   SUBTÍTULOS DAS SEÇÕES (DADOS DO CLIENTE, ETC)
   ============================================ */
section .subtitle {
    margin-top: 10px;                   /* Espaço superior de 10px */
    width: 100%;                        /* Ocupa toda a largura */
    border: 1px solid #cdcdcd;          /* Borda cinza clara */
    padding: 3px;                       /* Espaçamento interno */
    font-weight: bold;                  /* Texto em negrito */
    text-align: left;                   /* Alinhamento à esquerda */
    background-color: #e8e8e8;          /* Fundo cinza claro */
}

/* ============================================
   CAIXA DE DADOS (DADOS DO CLIENTE, DESCRIÇÃO, ETC)
   ============================================ */
section .dados {
    width: 100%;                       /* Ocupa toda a largura */
    border: 1px solid #cdcdcd;          /* Borda cinza clara */
    padding: 5px;                       /* Espaçamento interno */
    font-weight: bold;                 /* Texto em negrito */
    line-height: 20px;                  /* Altura da linha (espaçamento entre linhas) */
    display: flex;                      /* Layout flexbox */
    justify-content: space-between;      /* Distribui espaço entre elementos (esquerda e direita) */
    page-break-inside: avoid;           /* Evita quebra de página dentro desta seção */
}

/* Parágrafos dentro de .dados */
section .dados p {
    margin-bottom: -0.1em;              /* Margem inferior negativa (reduz espaço entre parágrafos) */
}

/* ============================================
   TABELAS (PRODUTOS, SERVIÇOS)
   ============================================ */
section .tabela {
    padding-top: 10px;                  /* Espaço superior antes da tabela */
}

/* Tabela */
section .tabela table {
    margin-bottom: 0;                   /* Remove margem inferior padrão */
}

/* Linha do cabeçalho da tabela */
section .tabela table .table-secondary {
    border-color: #cdcdcd;              /* Cor da borda cinza clara */
}

/* Corpo da tabela */
section .tabela table tbody {
    border-color: #cdcdcd !important;   /* Cor da borda (important para sobrescrever outros estilos) */
}

/* Células da tabela (cabeçalho e corpo) */
.table>:not(caption)>*>* {
    padding: .2rem .5rem;               /* Padding das células (0.2rem vertical, 0.5rem horizontal) */
}

/* ============================================
   SEÇÃO DE PAGAMENTO (QR CODE E RESUMO)
   ============================================ */
section .pagamento {
    display: flex;                      /* Layout flexbox */
    flex-direction: row;                /* Direção horizontal (elementos lado a lado) */
    justify-content: space-between;      /* Distribui espaço entre QR Code e tabela */
    align-items: center;                /* Alinha verticalmente ao centro */
}

/* Container do QR Code */
section .pagamento .qrcode {
    display: flex;                      /* Layout flexbox */
    justify-content: space-between;     /* Distribui espaço entre elementos internos */
}

/* Texto da chave PIX */
section .pagamento .qrcode .chavePix {
    width: 100%;                        /* Ocupa toda a largura do container */
    word-break: break-word;             /* Quebra palavras longas se necessário */
    margin-top:8px;                     /* Espaço superior */
    text-align:center;                  /* Texto centralizado */
}

/* Ícone do QR Code */
section .pagamento .qrcode i {
    font-size: 20px;                    /* Tamanho do ícone */
    color: #989898;                     /* Cor cinza */
}

/* Tabela de resumo de valores */
section .pagamento .table {
    width: 400px;                       /* Largura fixa de 400px */
    text-align: right;                  /* Alinha números à direita */
}

/* Cabeçalho da tabela de pagamento */
section .pagamento .table th {
    text-align: center;                 /* Texto centralizado */
}

/* Linhas do corpo da tabela de pagamento */
section .pagamento .table tbody tr {
    font-weight: bold;                  /* Texto em negrito */
}

/* ============================================
   RODAPÉ (FOOTER)
   ============================================ */
footer {
    width: 100%;                       /* Ocupa toda a largura */
    padding: 10px;                      /* Espaçamento interno */
    border: 1px solid #cdcdcd;          /* Borda cinza clara */
    page-break-before: avoid;           /* Evita quebra de página antes do rodapé */
    page-break-inside: avoid;           /* Evita quebra de página dentro do rodapé */
}

/* Seção de detalhes (datas, número da OS) */
footer .detalhes {
    display: flex;                      /* Layout flexbox */
    justify-content: space-between;     /* Distribui espaço entre elementos (esquerda e direita) */
}

/* Seção de assinaturas */
footer .assinaturas {
    display: flex;                      /* Layout flexbox */
    justify-content: space-around;      /* Distribui espaço uniformemente entre assinaturas */
}

/* Cada assinatura */
footer .assinaturas span {
    width: 40%;                         /* Ocupa 40% da largura */
    text-align: center;                 /* Texto centralizado */
    border-top: 1px solid #000;         /* Linha preta acima (linha de assinatura) */
    margin-top: 55px;                   /* Espaço superior grande (para assinatura) */
}

/* Seção de vendedor (se usado) */
footer .vendedor {
    display: flex;                      /* Layout flexbox */
    text-align: center;                 /* Texto centralizado */
    justify-content: space-around;      /* Distribui espaço uniformemente */
}

/* ============================================
   ANEXOS (IMAGENS DA OS)
   ============================================ */
#anexos {
    display: none;                      /* Esconde por padrão (só aparece na impressão) */
    page-break-before: always;         /* Força quebra de página antes dos anexos */
}

/* Imagens dos anexos */
#anexos section img {
    flex: 1 0 30%;                      /* Flex: grow 1, shrink 0, base 30% (layout flex) */
    max-width: 150px;                   /* Largura máxima de 150px */
    /* max-height: 200px; */            /* Altura máxima (comentado - não usado) */
    height: auto;                       /* Altura automática (mantém proporção) */
    object-fit: cover;                  /* Cobre o espaço disponível mantendo proporção */
    margin: 5px;                        /* Margem de 5px ao redor */
}

/* ============================================
   CONFIGURAÇÕES DE PÁGINA PARA IMPRESSÃO
   ============================================ */
@page {
    size: auto;                         /* Tamanho automático (usa configuração da impressora) */
    margin: 0.5cm;                      /* Margem de 0.5cm em todos os lados */
}

/* ============================================
   ESTILOS ESPECÍFICOS PARA IMPRESSÃO
   ============================================ */
@media print {
    /* HTML e Body na impressão */
    html, body {
        width: 210mm;                   /* Largura A4 */
        height: 297mm;                  /* Altura A4 */
    }
    
    /* Container principal na impressão */
    .main-page {
        margin: 0;                      /* Remove margens */
        border: initial;                /* Remove borda */
        border-radius: initial;         /* Remove bordas arredondadas */
        width: initial;                  /* Largura inicial (automática) */
        min-height: initial;            /* Altura mínima inicial */
        box-shadow: initial;             /* Remove sombra */
        background: initial;            /* Fundo inicial */
        page-break-after: always;       /* Sempre quebra página após */
    }

    /* Mostra "via" na impressão */
    .via{
        display: block;
    }
    
    /* Mostra anexos na impressão */
    #anexos {
        display: block;
    }

    /* Mostra nova página (2ª via) na impressão */
    .novaPagina {
        display: block;
    }
}
